freq_to_midi = { \
    130.81 : '48', \
    138.59 : '49', \
    146.83 : '50', \
    155.56 : '51', \
    164.81 : '52', \
    174.61 : '53', \
    185.0 : '54', \
    196.0 : '55', \
    207.65 : '56', \
    220.0 : '57', \
    233.08 : '58', \
    246.94 : '59', \
    261.63 : '60', \
    277.18 : '61', \
    293.66 : '62', \
    311.13 : '63', \
    329.63 : '64', \
    349.23 : '65', \
    369.99 : '66', \
    392.0 : '67', \
    415.3 : '68', \
    440.0 : '69', \
    466.16 : '70', \
    493.88 : '71', \
    523.25 : '72', \
    554.37 : '73', \
    587.33 : '74', \
    622.25 : '75', \
    659.25 : '76', \
    698.46 : '77', \
    739.99 : '78', \
    783.99 : '79', \
    830.61 : '80', \
    880.0 : '81', \
    932.33 : '82', \
    987.77 : '83', \
    1046.5 : '84', \
    1108.73 : '85', \
    1174.66 : '86', \
    1244.51 : '87', \
    1318.51 : '88', \
    1396.91 : '89', \
    1479.98 : '90', \
    1567.98 : '91', \
    1661.22 : '92', \
    1760.0 : '93', \
    1864.66 : '94', \
    1975.53 : '95', \
    2093.0 : '96'
}

freq_to_note = { \
    130.81 : 'C3', \
    138.59 : 'D3b', \
    146.83 : 'D3', \
    155.56 : 'E3b', \
    164.81 : 'E3', \
    174.61 : 'F3', \
    185.0 : 'G3b', \
    196.0 : 'G3', \
    207.65 : 'A3b', \
    220.0 : 'A3', \
    233.08 : 'B3b', \
    246.94 : 'B3', \
    261.63 : 'C4', \
    277.18 : 'D4b', \
    293.66 : 'D4', \
    311.13 : 'E4b', \
    329.63 : 'E4', \
    349.23 : 'F4', \
    369.99 : 'G4b', \
    392.0 : 'G4', \
    415.3 : 'A4b', \
    440.0 : 'A4', \
    466.16 : 'B4b', \
    493.88 : 'B4', \
    523.25 : 'C5', \
    554.37 : 'D5b', \
    587.33 : 'D5', \
    622.25 : 'E5b', \
    659.25 : 'E5', \
    698.46 : 'F5', \
    739.99 : 'G5b', \
    783.99 : 'G5', \
    830.61 : 'A5b', \
    880.0 : 'A5', \
    932.33 : 'B5b', \
    987.77 : 'B5', \
    1046.5 : 'C6', \
    1108.73 : 'D6b', \
    1174.66 : 'D6', \
    1244.51 : 'E6b', \
    1318.51 : 'E6', \
    1396.91 : 'F6', \
    1479.98 : 'G6b', \
    1567.98 : 'G6', \
    1661.22 : 'A6b', \
    1760.0 : 'A6', \
    1864.66 : 'B6b', \
    1975.53 : 'B6', \
    2093.0 : 'C7'
}

note_to_freq = dict((v,k) for k, v in freq_to_note.iteritems())
midi_to_freq = dict((v,k) for k,v in freq_to_midi.iteritems())


def getMusic(freq, type="note"):
    d = freq_to_note
    if (type == "midi"):
        d = freq_to_midi
    #find frequency closest in the dictionary
    #return corresponding note
    buckets = d.keys()
    bestBucket = buckets[0]
    minDist = abs(bestBucket-freq)
    for bucket in buckets:
        if (abs(bucket-freq) < minDist):
            bestBucket = bucket
            minDist = abs(bestBucket-freq)
    return d.get(bestBucket)

